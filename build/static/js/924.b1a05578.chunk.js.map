{"version":3,"file":"static/js/924.b1a05578.chunk.js","mappings":"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","sources":["components/appBunner/AppBunner.js","components/errorMassage/ErrorMassage.js","components/comicsList/ComicsList.js","components/pages/ComicsPage.js","services/MarvelSevice.js","hooks/http.hook.js"],"sourcesContent":["import './appBunner.scss';\r\nimport avengers from '../../resources/img/Avengers.png';\r\nimport avengersLogo from '../../resources/img/Avengers_logo.png';\r\n\r\nconst AppBunner = () => {\r\n   return (\r\n      <div className=\"app__bunner\">\r\n         <img src={avengers} alt=\"Avengers\" />\r\n         <div className=\"app__bunner-text\">\r\n            New comics every week!<br/>\r\n               Stay tuned!\r\n         </div>\r\n         <img src={avengersLogo} alt=\"Avengers_logo\" />\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default AppBunner;","import img from './error.gif';\r\n\r\nconst ErrorMassage = () => {\r\n   return (\r\n      <img src={img} alt=\"error\" style={{\r\n         margin: '0 auto', background: 'none', display: 'block',\r\n         width: '250px', height: '250px', objectFit: 'contain'\r\n      }} />\r\n   )\r\n}\r\n\r\nexport default ErrorMassage;","import useMarvelService from '../../services/MarvelSevice';\r\nimport ErrorMassage from '../errorMassage/ErrorMassage';\r\nimport Spinner from '../spinner/Spinner';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './comicsList.scss';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\n\r\nconst ComicsList = () => {\r\n   const [comicsList, setComicsList] = useState([]);\r\n   const [offset, setOffset] = useState(58450);\r\n   const [moreComicsLoading, setMoreComicsLoading] = useState(false);\r\n   const [comicsEnded, setComicsEnded] = useState(false);\r\n\r\n   const { loading, error, getAllComics } = useMarvelService();\r\n\r\n   useEffect(() => {\r\n      onRequest(offset, true);\r\n      // eslint-disable-next-line\r\n   }, [])\r\n\r\n   const onRequest = (offset, initial) => {\r\n      initial ? setMoreComicsLoading(false) : setMoreComicsLoading(true);\r\n\r\n      getAllComics(offset)\r\n         .then(onComicsListLoaded)\r\n   }\r\n\r\n   const onComicsListLoaded = (newComicsList) => {\r\n\r\n      const ended = newComicsList.length < 8 ? true : false;\r\n\r\n      const addComic = (index) => {\r\n         if (index < newComicsList.length) {\r\n            setComicsList(comicsList => [...comicsList, newComicsList[index]]);\r\n            setTimeout(() => addComic(index + 1), 300)\r\n         } else {\r\n            setOffset(offset => offset + 8);\r\n            setMoreComicsLoading(false);\r\n            setComicsEnded(comicsEnded => ended);\r\n         }\r\n      }\r\n\r\n      addComic(0);\r\n\r\n\r\n   }\r\n\r\n   const renderItems = (arr) => {\r\n      const items = arr.map((item, i) => {\r\n         const { thumbnail, title, price, id } = item;\r\n\r\n         let imgStyle = { \"objectFit\": \"cover\" };\r\n\r\n         if (thumbnail === 'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg') {\r\n            imgStyle = { \"objectFit\": \"unset\" };\r\n         }\r\n\r\n         return (\r\n            <CSSTransition key={i} timeout={300} classNames=\"comics__item\">\r\n               <li className=\"comics__item\">\r\n                  <Link to={`/comics/${id}`}>\r\n                     <img\r\n                        src={thumbnail}\r\n                        alt={title}\r\n                        style={imgStyle}\r\n                        className=\"comics__item-img\"\r\n                     />\r\n                     <div className=\"comics__item-name\">{title}</div>\r\n                     <div className=\"comics__item-price\">{price}</div>\r\n                  </Link>\r\n               </li>\r\n            </CSSTransition>\r\n\r\n         )\r\n      });\r\n\r\n      return (\r\n         <ul className=\"comics__grid\">\r\n            <TransitionGroup component={null}>\r\n               {items}\r\n            </TransitionGroup>\r\n\r\n         </ul>\r\n      )\r\n   }\r\n\r\n   const items = renderItems(comicsList);\r\n\r\n   const spinner = loading ? <Spinner /> : null;\r\n   const errorMassage = error ? <ErrorMassage /> : null;\r\n\r\n   return (\r\n      <div className=\"comics__list\">\r\n         {spinner}\r\n         {errorMassage}\r\n         {items}\r\n         <button className=\"button button__main button__long\"\r\n            style={{ 'display': comicsEnded ? 'none' : 'block' }}\r\n            disabled={moreComicsLoading}\r\n            onClick={() => onRequest(offset)}\r\n         >\r\n            <div className=\"inner\">LOAD MORE</div>\r\n         </button>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ComicsList;","import ComicsList from '../comicsList/ComicsList';\r\nimport AppBunner from '../appBunner/AppBunner';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Outlet, useOutlet } from 'react-router-dom';\r\n\r\nconst ComicsPage = () => {\r\n   const outlet = useOutlet();\r\n\r\n   return (\r\n      <div className='fade-page'>\r\n         <Helmet>\r\n            <meta\r\n               name=\"description\"\r\n               content=\"List of marvel comics\" />\r\n            <title>Comics page</title>\r\n         </Helmet>\r\n         <AppBunner />\r\n         {outlet ? <Outlet/> : <ComicsList />}\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ComicsPage;","import { useHttp } from \"../hooks/http.hook\";\r\n\r\nconst useMarvelService = () => {\r\n   const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n   const _apiKey = 'apikey=6fd4c27ab8f0c4a825d883b3b3700407';\r\n   const _baseOffset = 210;\r\n\r\n   const { loading, error, clearError, request} = useHttp();\r\n   \r\n    const getAllCharacters = async (offset = _baseOffset) => {\r\n      const res = await request(`${_apiBase}characters?limit=9&offset=${offset}&${_apiKey}`);\r\n\r\n      return res.data.results.map(_transformCharacter);\r\n   }\r\n\r\n   const getCharacterByName = async (name) => {\r\n      const res = await request(`${_apiBase}characters?name=${name}&${_apiKey}`);\r\n\r\n      return res.data.results.map(_transformCharacter);\r\n   }\r\n\r\n   const getCharacter = async (id) => {\r\n      const res = await request(`${_apiBase}characters/${id}?${_apiKey}`);\r\n\r\n      return _transformCharacter(res.data.results[0]);\r\n   }\r\n\r\n   const getAllComics = async (offset = 0) => {\r\n      const res = await request(`${_apiBase}comics?orderBy=issueNumber&offset=${offset}&limit=8&${_apiKey}`);\r\n\r\n      return res.data.results.map(_transformComics);\r\n   }\r\n\r\n   const getComic = async (id) => {\r\n      const res = await request(`${_apiBase}comics/${id}?${_apiKey}`);\r\n\r\n      return _transformComic(res.data.results[0]);\r\n   }\r\n\r\n   const _transformComics = (comics) => {\r\n      return ({\r\n         id: comics.id,\r\n         title: comics.title,\r\n         thumbnail: `${comics.thumbnail.path}.${comics.thumbnail.extension}`,\r\n         price: comics.prices[0].price ? `${comics.prices[0].price}$` : 'NOT AVAILABLE'\r\n      })\r\n   }\r\n\r\n   const _transformCharacter = (char) => {\r\n      const charDescr = char.description ? (char.description.length > 210 ? `${char.description.substring(0, 210)}...` :\r\n         char.description) : \"Unfortunately, there is no description about this character...\";\r\n\r\n      return ({\r\n         id: char.id,\r\n         name: char.name,\r\n         description: charDescr,\r\n         thumbnail: `${char.thumbnail.path}.${char.thumbnail.extension}`,\r\n         homepage: char.urls[0].url,\r\n         wiki: char.urls[1].url,\r\n         comics: char.comics.items\r\n      })\r\n   }\r\n\r\n   const _transformComic = (comic) => {\r\n      return ({\r\n         id: comic.id,\r\n         title: comic.title,\r\n         thumbnail: `${comic.thumbnail.path}.${comic.thumbnail.extension}`,\r\n         price: comic.prices[0].price ? `${comic.prices[0].price}$` : 'NOT AVAILABLE',\r\n         description: comic.description || \"There is no description\",\r\n         pageCount: comic.pageCount ? `${comic.pageCount} pages` : 'No information about the number of pages',\r\n         language: comic.textObjects[0]  ?  comic.textObjects[0].language : 'en-us'\r\n      })\r\n   }\r\n\r\n   return {loading, error, clearError, getAllCharacters, getCharacter, getAllComics, getComic, getCharacterByName}\r\n}\r\n\r\nexport default useMarvelService;","import { useCallback, useState } from \"react\";\r\n\r\nexport const useHttp = () => {\r\n\r\n   const [loading, setLoading] = useState(false);\r\n   const [error, setError] = useState(null);\r\n\r\n   const request = useCallback(async (url, method = 'GET', body = null, headers = { 'Content-Type': 'application/json' }) => {\r\n\r\n      setLoading(true);\r\n\r\n      try {\r\n         const response = await fetch(url, { method, headers, body });\r\n\r\n         if (!response.ok) {\r\n            throw new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n         }\r\n\r\n         const data = await response.json();\r\n         setLoading(false);\r\n\r\n         return data;\r\n      } catch (e) {\r\n         setLoading(false);\r\n         setError(true);\r\n\r\n         throw e;\r\n      }\r\n\r\n      \r\n   }, []);\r\n\r\n   const clearError = useCallback(() => setError(null), []);\r\n\r\n   return {loading, error, request, clearError}\r\n}"],"names":["_jsxs","className","children","_jsx","src","avengers","alt","avengersLogo","img","style","margin","background","display","width","height","objectFit","_useState","useState","_useState2","_slicedToArray","comicsList","setComicsList","_useState3","_useState4","offset","setOffset","_useState5","_useState6","moreComicsLoading","setMoreComicsLoading","_useState7","_useState8","comicsEnded","setComicsEnded","_useMarvelService","useMarvelService","loading","error","getAllComics","useEffect","onRequest","initial","then","onComicsListLoaded","newComicsList","ended","length","addComic","index","concat","_toConsumableArray","setTimeout","items","arr","map","item","i","thumbnail","title","price","id","imgStyle","CSSTransition","timeout","classNames","Link","to","TransitionGroup","component","renderItems","spinner","Spinner","errorMassage","ErrorMassage","disabled","onClick","outlet","useOutlet","Helmet","name","content","AppBunner","Outlet","ComicsList","_apiBase","_apiKey","_useHttp","setLoading","setError","request","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","method","body","headers","response","data","_args","arguments","wrap","_context","prev","next","undefined","fetch","sent","ok","Error","status","json","abrupt","t0","stop","_x","apply","clearError","useHttp","getAllCharacters","res","results","_transformCharacter","getCharacterByName","_ref2","_callee2","_context2","getCharacter","_ref3","_callee3","_context3","_x2","_ref4","_callee4","_args4","_context4","_transformComics","getComic","_ref5","_callee5","_context5","_transformComic","_x3","comics","path","extension","prices","char","charDescr","description","substring","homepage","urls","wiki","comic","pageCount","language","textObjects"],"sourceRoot":""}